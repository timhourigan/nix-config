---
# Workflow to update the flake regularly
name: update-flake
run-name: Update Flake
on:
  schedule:
    - cron: "0 3 * * *"  # Every day at 03:00
  workflow_dispatch:     # Allow manual triggering
jobs:
  update-flake:
    runs-on: ubuntu-latest
    timeout-minutes: 20
    steps:
      - name: Checkout
        uses: actions/checkout@v5
      # https://github.com/cachix/install-nix-action
      - name: Install Nix
        uses: cachix/install-nix-action@v31
        with:
          nix_path: nixpkgs=channel:nixos-25.05
      - name: Update flake.lock
        uses: DeterminateSystems/update-flake-lock@main
